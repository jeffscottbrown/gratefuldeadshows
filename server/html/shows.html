<div class="alert alert-secondary" role="alert">
  {{ if .Message }}
  {{ .Message }}
  {{ else }}
  Shows
  {{ end }}
</div>

<table class="table table-striped">
  <thead>
    <tr>
      <th scope="col">Date</th>
      <th scope="col">Year</th>
      <th scope="col">Venue</th>
      <th scope="col">City</th>
      <th scope="col">State</th>
    </tr>
  </thead>
  <tbody>
    {{ range $index, $show := .Shows }}
    <tr>
      <td>
        <div>
          <input type="hidden" name="id" value="{{ $show.ID }}">
          <a style="text-decoration: underline;" hx-target="#main" hx-include="closest div" hx-post="/show/">
            {{ formatDate $show.Date "January 2" }}
          </a>
        </div>
      <td>
        <div>
          {{ $year := formatDate $show.Date "2006" }}
          {{ template "itemlink" (dict "attributeName" "year" "attributeValue" $year) }}
        </div>

      </td>
      <td>
        <div>
          <input type="hidden" name="city" value="{{ $show.City }}">
          {{ template "itemlink" (dict "attributeName" "venue" "attributeValue" $show.Venue) }}
        </div>
      </td>
      <td>
        <div>
          {{ template "itemlink" (dict "attributeName" "city" "attributeValue" $show.City) }}
        </div>
      </td>
      <td>
        <div>
          {{ template "itemlink" (dict "attributeName" "state" "attributeValue" $show.State) }}
        </div>
      </td>
    </tr>
    {{ end }}
  </tbody>
</table>

{{ block "itemlink" . }}
<input type="hidden" name={{ .attributeName }} value={{ .attributeValue }}>
<a style="text-decoration: underline;" hx-target="#main" hx-include="closest div" hx-post="/{{ .attributeName  }}/">{{
  .attributeValue }}</a>
{{ end }}